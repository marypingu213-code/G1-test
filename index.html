<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æƒ…ç·’å°åµæ¢ï¼šäº’å‹•é—–é—œ</title>
    <style>
        body { font-family: 'Microsoft JhengHei', sans-serif; background-color: #f7f9fc; display: flex; flex-direction: column; align-items: center; justify-content: center; min-height: 100vh; margin: 0; padding: 20px; }
        
        .container { width: 100%; max-width: 850px; background: white; padding: 40px; border-radius: 30px; box-shadow: 0 15px 35px rgba(0,0,0,0.1); text-align: center; }
        
        /* é¦–é æ¨£å¼ */
        .emoji-cloud { font-size: 60px; margin: 30px 0; letter-spacing: 15px; animation: bounce 2s infinite; }
        @keyframes bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }
        
        .start-btn { padding: 25px 80px; font-size: 32px; background: #2ecc71; color: white; border: none; border-radius: 50px; cursor: pointer; font-weight: bold; box-shadow: 0 8px 15px rgba(46, 204, 113, 0.3); transition: 0.3s; }
        .start-btn:hover { background: #27ae60; transform: scale(1.05); }

        /* éŠæˆ²å€åŸŸæ¨£å¼ */
        #game-area { display: none; } /* åˆå§‹éš±è— */
        .question-text { font-size: 26px; color: #d35400; font-weight: bold; margin-bottom: 20px; }
        .image-container { width: 350px; height: 350px; margin: 0 auto 30px; border: 6px solid #ffcc00; border-radius: 20px; overflow: hidden; background: #fff; display: flex; align-items: center; justify-content: center; }
        .image-container img { width: 100%; height: 100%; object-fit: cover; }

        .options-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; max-width: 600px; margin: 0 auto; }
        button.opt-btn { padding: 20px; font-size: 24px; cursor: pointer; border: 3px solid #3498db; background: white; border-radius: 15px; transition: 0.2s; font-weight: bold; }
        button.opt-btn:hover:not(:disabled) { background: #e1f5fe; }
        
        .correct { background: #2ecc71 !important; color: white; border-color: #27ae60; }
        .wrong { background: #e74c3c !important; color: white; border-color: #c0392b; }

        /* åæ€å•å¥ */
        #reflection-area { margin-top: 30px; padding: 20px; background: #fff9db; border-radius: 15px; border: 2px dashed #f1c40f; display: none; }
        .reflection-text { font-size: 24px; color: #856404; font-weight: bold; }
        
        #next-btn { margin-top: 25px; padding: 15px 60px; background: #9b59b6; color: white; border: none; border-radius: 50px; cursor: pointer; font-size: 22px; display: none; }

        /* å·¦ä¸‹è§’æ™‚é˜ */
        #live-clock { position: fixed; bottom: 20px; left: 20px; background: #2c3e50; color: white; padding: 10px 20px; border-radius: 12px; font-size: 18px; font-family: monospace; z-index: 100; }
    </style>
</head>
<body>

    <div id="home-screen" class="container">
        <h1>ğŸ” æƒ…ç·’å°åµæ¢</h1>
        <p style="font-size: 24px; color: #34495e;">æ­¡è¿ä¾†åˆ°è¡¨æƒ…å¯¦é©—å®¤ï¼<br>æº–å‚™å¥½è§€å¯Ÿæ¯å€‹äººçš„å¿ƒæƒ…äº†å—ï¼Ÿ</p>
        <div class="emoji-cloud">ğŸ˜ƒ ğŸ˜¡ ğŸ˜¢ ğŸ˜¨ ğŸ¤©</div>
        <button class="start-btn" onclick="startGame()">é–‹å§‹æŒ‘æˆ°</button>
    </div>

    <div id="game-area" class="container">
        <div id="q-text" class="question-text">é€™å¼µè‡‰æ˜¯ä»€éº¼æ„Ÿè¦ºå‘¢ï¼Ÿ</div>
        <div class="image-container">
            <img id="q-image" src="" alt="æƒ…ç·’åœ–ç‰‡">
        </div>
        <div class="options-grid" id="options-bin"></div>
        <div id="reflection-area">
            <p class="reflection-text" id="ref-question"></p>
            <p style="color: #666;">(å¯ä»¥èˆ‰æ‰‹åˆ†äº«å–”ï¼)</p>
        </div>
        <button id="next-btn" onclick="nextQuestion()">ä¸‹ä¸€é¡Œ â”</button>
    </div>

    <div id="live-clock">è¼‰å…¥æ™‚é–“...</div>

    <script>
        const questions = [
            { id: "happy", name: "é–‹å¿ƒ", img: "image/happy.png", options: ["é–‹å¿ƒ", "é›£é"], correct: 0 },
            { id: "anger", name: "ç”Ÿæ°£", img: "image/anger.png", options: ["å®³æ€•", "ç”Ÿæ°£"], correct: 1 },
            { id: "sad", name: "é›£é", img: "image/sad.png", options: ["é›£é", "é«˜èˆˆ"], correct: 0 },
            { id: "fear", name: "å®³æ€•", img: "image/fear.png", options: ["å®³æ€•", "å†·éœ"], correct: 0 },
            { id: "hate", name: "è¨å­", img: "image/hate.png", options: ["è¨å­", "é–‹å¿ƒ"], correct: 0 },
            { id: "glad", name: "é«˜èˆˆ", img: "image/glad.png", options: ["é›£é", "é«˜èˆˆ"], correct: 1 },
            { id: "chill", name: "å†·éœ", img: "image/chill.png", options: ["ç”Ÿæ°£", "å†·éœ"], correct: 1 }
        ];

        let currentIdx = 0;

        // åœ–ç‰‡é è¼‰
        function preload() {
            questions.forEach(q => {
                const img = new Image();
                img.src = q.img;
            });
        }

        function startGame() {
            document.getElementById('home-screen').style.display = 'none';
            document.getElementById('game-area').style.display = 'block';
            preload(); // åœ¨æ­¤æ™‚é–‹å§‹è¼‰å…¥
            loadQuestion();
        }

        function loadQuestion() {
            const q = questions[currentIdx];
            document.getElementById('q-image').src = q.img;
            document.getElementById('q-text').innerText = "é€™å¼µè‡‰æ˜¯ä»€éº¼æ„Ÿè¦ºå‘¢ï¼Ÿ";
            document.getElementById('reflection-area').style.display = 'none';
            document.getElementById('next-btn').style.display = 'none';
            
            const bin = document.getElementById('options-bin');
            bin.innerHTML = '';
            bin.style.display = 'grid';

            q.options.forEach((opt, index) => {
                const btn = document.createElement('button');
                btn.className = 'opt-btn';
                btn.innerText = opt;
                btn.onclick = () => checkAnswer(index, q.correct, btn);
                bin.appendChild(btn);
            });
        }

        function checkAnswer(selected, correct, btn) {
            const q = questions[currentIdx];
            const buttons = document.querySelectorAll('.opt-btn');
            
            if (selected === correct) {
                btn.classList.add('correct');
                buttons.forEach(b => b.disabled = true);
                
                setTimeout(() => {
                    document.getElementById('options-bin').style.display = 'none';
                    document.getElementById('q-text').innerText = "è§€å¯Ÿæ­£ç¢ºï¼";
                    document.getElementById('reflection-area').style.display = 'block';
                    document.getElementById('ref-question').innerText = `æƒ³æƒ³çœ‹ï¼Œä½ ä»€éº¼æ™‚å€™ä¹Ÿæœƒæ„Ÿè¦ºã€Œ${q.name}ã€å‘¢ï¼Ÿ`;
                    document.getElementById('next-btn').style.display = 'inline-block';
                }, 500);
            } else {
                btn.classList.add('wrong');
                setTimeout(() => btn.classList.remove('wrong'), 800);
            }
        }

        function nextQuestion() {
            currentIdx++;
            if (currentIdx < questions.length) {
                loadQuestion();
            } else {
                document.getElementById('game-area').innerHTML = `
                    <h2 style="font-size: 36px; color: #27ae60;">å¤ªå¼·äº†ï¼åµæ¢ä»»å‹™å®Œæˆï¼</h2>
                    <div class="emoji-cloud">ğŸ† ğŸŠ ğŸˆ</div>
                    <button onclick="location.reload()" class="start-btn" style="font-size: 24px; padding: 15px 40px;">å›é¦–é </button>
                `;
            }
        }

        function updateClock() {
            const now = new Date();
            document.getElementById('live-clock').innerText = "ç¾åœ¨æ™‚é–“ï¼š" + now.toLocaleTimeString('zh-TW', { hour12: false });
        }

        setInterval(updateClock, 1000);
        updateClock();
    </script>
</body>
</html>
