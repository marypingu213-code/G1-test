<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æƒ…ç·’åµæ¢ï¼šé€²éšç‰ˆ</title>
    <style>
        body { font-family: 'Microsoft JhengHei', sans-serif; background-color: #f7f9fc; display: flex; flex-direction: column; align-items: center; justify-content: center; min-height: 100vh; margin: 0; padding: 20px; }
        
        /* ç‰ˆé¢åŠ å¯¬è‡³ 850px */
        .container { width: 100%; max-width: 850px; background: white; padding: 40px; border-radius: 30px; box-shadow: 0 15px 35px rgba(0,0,0,0.1); text-align: center; position: relative; }
        
        h1 { color: #2c3e50; font-size: 32px; margin-bottom: 25px; }
        .question-text { font-size: 26px; color: #d35400; font-weight: bold; margin-bottom: 20px; }
        
        /* åœ–ç‰‡å®¹å™¨å„ªåŒ– */
        .image-container { width: 350px; height: 350px; margin: 0 auto 30px; border: 6px solid #ffcc00; border-radius: 20px; overflow: hidden; background: #fff; display: flex; align-items: center; justify-content: center; }
        .image-container img { width: 100%; height: 100%; object-fit: cover; }

        /* æŒ‰éˆ•è¨­è¨ˆï¼šæ›´å¯¬å¤§å¥½é»é¸ */
        .options-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; max-width: 600px; margin: 0 auto; }
        button { padding: 20px; font-size: 24px; cursor: pointer; border: 3px solid #3498db; background: white; border-radius: 15px; transition: all 0.2s; font-weight: bold; }
        button:hover:not(:disabled) { background: #e1f5fe; transform: translateY(-2px); }
        .correct { background: #2ecc71 !important; color: white; border-color: #27ae60; }
        .wrong { background: #e74c3c !important; color: white; border-color: #c0392b; }

        /* åæ€å•å¥å€å¡Šï¼šåˆå§‹éš±è— */
        #reflection-area { margin-top: 30px; padding: 20px; background: #fff9db; border-radius: 15px; border: 2px dashed #f1c40f; display: none; animation: fadeIn 0.5s; }
        .reflection-text { font-size: 24px; color: #856404; font-weight: bold; }
        
        #next-btn { margin-top: 25px; padding: 15px 60px; background: #9b59b6; color: white; border: none; border-radius: 50px; cursor: pointer; font-size: 22px; display: none; box-shadow: 0 5px 15px rgba(155, 89, 182, 0.4); }

        /* æ™‚é˜ */
        #live-clock { position: fixed; bottom: 20px; left: 20px; background: #2c3e50; color: white; padding: 10px 20px; border-radius: 12px; font-size: 18px; font-family: 'Courier New', Courier, monospace; z-index: 100; box-shadow: 0 4px 8px rgba(0,0,0,0.2); }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body>

    <div class="container">
        <h1>ğŸ” æƒ…ç·’å°åµæ¢</h1>
        
        <div id="game-area">
            <div id="q-text" class="question-text">é€™å¼µè‡‰æ˜¯ä»€éº¼æ„Ÿè¦ºå‘¢ï¼Ÿ</div>
            
            <div class="image-container">
                <img id="q-image" src="" alt="æƒ…ç·’åœ–ç‰‡">
            </div>

            <div class="options-grid" id="options-bin"></div>

            <div id="reflection-area">
                <p class="reflection-text" id="ref-question"></p>
                <p style="color: #666;">(è€å¸«å¯ä»¥è«‹å­¸ç”Ÿåˆ†äº«æˆ–å£é ­å›ç­”å–”ï¼)</p>
            </div>

            <button id="next-btn" onclick="nextQuestion()">ä¸‹ä¸€é¡Œ â”</button>
        </div>
    </div>

    <div id="live-clock">è¼‰å…¥æ™‚é–“...</div>

    <script>
        const questions = [
            { id: "happy", name: "é–‹å¿ƒ", img: "image/happy.png", options: ["é–‹å¿ƒ", "é›£é"], correct: 0 },
            { id: "anger", name: "ç”Ÿæ°£", img: "image/anger.png", options: ["å®³æ€•", "ç”Ÿæ°£"], correct: 1 },
            { id: "sad", name: "é›£é", img: "image/sad.png", options: ["é›£é", "é«˜èˆˆ"], correct: 0 },
            { id: "fear", name: "å®³æ€•", img: "image/fear.png", options: ["å®³æ€•", "å†·éœ"], correct: 0 },
            { id: "hate", name: "è¨å­", img: "image/hate.png", options: ["è¨å­", "é–‹å¿ƒ"], correct: 0 },
            { id: "glad", name: "é«˜èˆˆ", img: "image/glad.png", options: ["é›£é", "é«˜èˆˆ"], correct: 1 },
            { id: "chill", name: "å†·éœ", img: "image/chill.png", options: ["ç”Ÿæ°£", "å†·éœ"], correct: 1 }
        ];

        // åœ–ç‰‡é è¼‰æ©Ÿåˆ¶ï¼šç¢ºä¿åœ–ç‰‡å‡ºç¾ä¸å»¶é²
        const preloadedImages = [];
        function preload() {
            questions.forEach(q => {
                const img = new Image();
                img.src = q.img;
                preloadedImages.push(img);
            });
        }
        preload();

        let currentIdx = 0;

        function loadQuestion() {
            const q = questions[currentIdx];
            document.getElementById('q-image').src = q.img;
            document.getElementById('q-text').innerText = "é€™å¼µè‡‰æ˜¯ä»€éº¼æ„Ÿè¦ºå‘¢ï¼Ÿ";
            document.getElementById('reflection-area').style.display = 'none';
            document.getElementById('next-btn').style.display = 'none';
            
            const bin = document.getElementById('options-bin');
            bin.innerHTML = '';
            bin.style.display = 'grid';

            q.options.forEach((opt, index) => {
                const btn = document.createElement('button');
                btn.innerText = opt;
                btn.onclick = () => checkAnswer(index, q.correct, btn);
                bin.appendChild(btn);
            });
        }

        function checkAnswer(selected, correct, btn) {
            const q = questions[currentIdx];
            const buttons = document.querySelectorAll('.options-grid button');
            
            if (selected === correct) {
                btn.classList.add('correct');
                // åœç”¨æ‰€æœ‰æŒ‰éˆ•é˜²æ­¢é‡è¤‡é»æ“Š
                buttons.forEach(b => b.disabled = true);
                
                // é¡¯ç¤ºåæ€å•å¥
                setTimeout(() => {
                    document.getElementById('options-bin').style.display = 'none';
                    document.getElementById('q-text').innerText = "å¤ªæ£’äº†ï¼ç­”å°äº†ï¼";
                    document.getElementById('reflection-area').style.display = 'block';
                    document.getElementById('ref-question').innerText = `æƒ³æƒ³çœ‹ï¼Œä½ ä»€éº¼æ™‚å€™ä¹Ÿæœƒæœ‰ã€Œ${q.name}ã€çš„æƒ…ç·’å‘¢ï¼Ÿ`;
                    document.getElementById('next-btn').style.display = 'inline-block';
                }, 500);
            } else {
                btn.classList.add('wrong');
                // ç­”éŒ¯äº†æŠ–å‹•ä¸€ä¸‹ï¼Œä¸å¼·è¿«é€²å…¥ä¸‹ä¸€é¡Œï¼Œè®“å­¸ç”Ÿå†é¸ä¸€æ¬¡
                setTimeout(() => btn.classList.remove('wrong'), 800);
            }
        }

        function nextQuestion() {
            currentIdx++;
            if (currentIdx < questions.length) {
                loadQuestion();
            } else {
                document.getElementById('game-area').innerHTML = `
                    <h2 style="font-size: 36px; color: #27ae60;">é—œå¡å®Œæˆï¼</h2>
                    <p style="font-size: 24px;">ä½ ä»Šå¤©èªè­˜äº†å¥½å¤šå¿ƒæƒ…å–”ï¼</p>
                    <button onclick="location.reload()" style="background:#3498db; color:white; border:none; padding: 15px 40px;">å†ç©ä¸€æ¬¡</button>
                `;
            }
        }

        function updateClock() {
            const now = new Date();
            document.getElementById('live-clock').innerText = "ç¾åœ¨æ™‚é–“ï¼š" + now.toLocaleTimeString('zh-TW', { hour12: false });
        }

        setInterval(updateClock, 1000);
        updateClock();
        loadQuestion();
    </script>
</body>
</html>
